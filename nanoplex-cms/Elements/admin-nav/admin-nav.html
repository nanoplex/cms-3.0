<dom-module id="admin-nav">

    <style>
        :host {
            width: 230px;
            border-right: 1px solid #424242;
            background: #F5F5F5;
        }

        .page {
            position: relative;
            padding: 0 16px;
            border-bottom: 1px solid #424242;
        }

            .page > article {
                margin-right: 16px;
            }

        .selected {
            background-color: #E0E0E0;
        }

        .name p {
            width: 100%;
            padding: 15px 0;
            margin: 0;
            z-index: 2;
            position: relative;
        }

        paper-input {
            margin: 0.25em 0;
            --paper-input-container-color: #616161;
            --paper-input-container-focus-color: #616161;
            --paper-input-container-input-color: black;
        }

        :host > section {
            background: #9E9E9E;
            padding: 8px;
            border-top: 1px solid #424242;
        }

        paper-ripple {
            z-index: 1;
        }
    </style>

    <template>

        <nav class="flex">

            <template is="dom-repeat"
                      items="{{pages}}">

                <div index$="{{index}}"
                     class="page layout horizontal center">

                    <paper-ripple recenters hidden="{{editMode}}">
                    </paper-ripple>

                    <article class="layout vertical center"
                             hidden$="{{!editMode}}">

                        <button class="btn small">

                            <iron-icon icon="expand-less" alt="up">
                            </iron-icon>

                        </button>

                        <button class="btn small">

                            <iron-icon icon="expand-more" alt="down">
                            </iron-icon>

                        </button>

                    </article>

                    <article class="name flex">

                        <p on-tap="changePage" hidden$="{{editMode}}">{{item.Name}}</p>

                        <paper-input label="page name"
                                     type="text"
                                     value$="[[item.Name]]"
                                     on-input="updatePageName"
                                     no-label-float hidden$="{{!editMode}}">
                        </paper-input>

                    </article>

                    <button on-tap="deletePage"
                            class="btn small"
                            hidden$="{{!editMode}}">

                        <iron-icon icon="close">
                        </iron-icon>

                    </button>
                </div>

            </template>

        </nav>

        <section class="layout horizontal center justified">

            <button on-tap="toggleEditmode"
                    class="btn small">

                <iron-icon icon="create" alt="edit">
                </iron-icon>

            </button>

            <button on-tap="openAddPage"
                    class="btn small">

                <iron-icon icon="add" alt="add">
                </iron-icon>

            </button>

        </section>

        <div id="addPage"
             class="layout vertical center fit"
             hidden>

            <paper-material class="dialog top layout vertical">

                <article class="layout horizontal center">

                    <h2 class="flex">Add page</h2>

                    <button on-tap="closeAddPage"
                            class="btn">

                        <iron-icon icon="close">
                        </iron-icon>

                    </button>

                </article>

                <paper-input label="page name"
                             on-input="validatePageName">
                </paper-input>

                <button on-tap="addPage"
                        class="btn self-end">

                    <iron-icon icon="done"
                               alt="add page">
                    </iron-icon>

                </button>

            </paper-material>

        </div>

    </template>

</dom-module>

<script src="admin-nav.js"></script>