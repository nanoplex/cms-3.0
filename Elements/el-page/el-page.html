<dom-module is="el-page">
    <template>
        <section class="layout horizontal center">
            <h2 class="flex">[[name]]</h2>
            <button on-tap="togglePageVisibility">
                <template is="x-if" if="[[visible]]">
                    <core-icon icon="visibility" alt="toggle page visiblity"></core-icon>
                </template>
                <template is="x-if" if="[[!visible]]">
                    <core-icon icon="visibility-off" alt="toggle page visiblity"></core-icon>
                </template>
            </button>
        </section>

        <el-components components="[[components]]"></el-components>
    </template>
</dom-module>
<script>
    Polymer({
        is: "el-page",
        properties: {
            name: String,
            visible: Boolean,
            components: Object
        },
        hostAttributes: {
            "class": "page style-scope el-admin"
        },
        attached: function(){
            this.setAttribute("view", this.name);
        },
        togglePageVisibility: function (event) {
            document.querySelector("el-admin").togglePageVisibility();
        }
    });
</script>